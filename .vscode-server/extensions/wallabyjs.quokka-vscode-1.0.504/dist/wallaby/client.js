/*
 * Wallaby.js - v1.0.1328
 * https://wallabyjs.com
 * Copyright (c) 2014-2022 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}var s="function"==typeof require&&require;module.exports=r(n[0])}({1:[function(e,t,i){var n=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,s&&(o=2&i[0]?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,s=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(n){i=[6,n],s=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,s,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};global.wallabyCoreClient=!0,e("./lib/global"),delete global.wallabyCoreClient;var s=e("lodash");s.extend(s,e("./lib/utils")),s.str=e("underscore.string"),s.mixin(s.str.exports());var o=e("child_process"),a=e("path"),l=e("fs"),c=e("ws"),u=e("./lib/extension/shared/utils"),h=0,d=/^win/.test(process.platform),f=function(){this._disposed=!1,this._callbacks=Object.create(null)};f.prototype=s.extend(Object.create(EventEmitter.prototype),{start:function(t){var i=this;this._openedFiles=Object.create(null),this._disposed=!1,this._forceKillProcessTimeout=t.forceKillProcessTimeout||1e4,this._originalNodePath=(process.env.WALLABY_NODE||"node").replace(/^~(?=$|\/|\\)/,process.env.HOME),this._nodePath=this._originalNodePath,this._useWsl="true"===process.env.WALLABY_USE_WSL&&d;var n=process.env.PATH||process.env.Path,r=s.extend({},process.env,{PATH:(n?n+a.delimiter:"")+(d?"":"/usr/local/bin"+a.delimiter+"/usr/bin")},t.env||{});delete r.NODE_ENV,delete r.NODE_PATH;var c=a.join(__dirname,"server.js"),h=t.projectPath,f=t.configPath,p=t.testsPath,g=t.smartStart,v=t.lkp,m=t.fileName||"",y=t.editorTypeScript,_=e("os").homedir();_.endsWith(a.sep)||(_+=a.sep);var b=t.ol&&t.ol===!0||!1,k=function(e){u.withFreePort(function(n){if(!i._disposed){var u=i._nodePath,d=[];if(i._useWsl){var k=process.env.systemRoot+"\\system32\\wsl",T=function(e){if(!e)return e;e=e.replace(/\\/g,"/");var t=o.execSync(k+' wslpath -a "'+e+'"');return s.rtrim(t.toString(),"\n")};c=T(c),h=T(h),f=T(f),void 0!==p&&(p=T(p)),v=T(v),y=T(y),_=T(_),d.push(process.env.WALLABY_NODE||"node"),u=k}if(f)try{var S=l.realpathSync(a.dirname(f)),C=a.basename(f);f=a.join(S,C)}catch(L){}d=d.concat(["--harmony",c,"extended-core-ws","--projectCachePath="+h,"--configPath="+f,"--lkp="+v,"--client="+t.client,"--editorTypeScript="+y,"--port="+n,"--quokka="+m,"--homeDir="+_,"--cv="+t.cv,"--ol="+b,"--te="+t.te,"--fid="+t.fileId]),void 0!==p&&d.push("--testsPath="+p),g&&d.push("--smartStart="+g);var w=i._normalizeDriveLetter(t.configPath&&!t.fileName?a.dirname(t.configPath):t.localRoot||t.quokkaFolder);try{w=w&&l.realpathSync(w)}catch(L){}if(!l.existsSync(w))return i.emit("notification",{type:"error",text:'Can not start Wallaby as the directory "'+w+'" does not exist.'}),void i.emit("stopped",{});i._process=o.spawn(u,d,{env:r,cwd:w});var x=!1;i._process.on("error",function(t){t&&t.message&&~t.message.indexOf("spawn "+i._nodePath+" ENOENT")?e?e():(i.emit("notification",{type:"error",text:t.message}),i.emit("notification",{type:"error",text:"Can not start node.js process ("+i._originalNodePath+'), make sure your system has <a href="https://wallabyjs.com/docs/intro/install.html#node-js">node.js installed</a>.'}),i.emit("stopped",{})):i.emit("consoleError",t.stack||t.message)}),i._bufferStream(i._process.stderr,function(e){x||i.emit("consoleError",e)}),i._bufferStream(i._process.stdout,function(e){x||(e&&(~e.indexOf("wallaby.js started")||~e.indexOf("quokka.js started"))?i._connectToServer(n):i.emit("consoleLog",e))})}})};k(function(){m?console.warn("Quokka cannot start node.js process ("+i._nodePath+"), trying editor node version instead. You may also explicitly configure which node.js version to use (https://quokkajs.com/docs/configuration.html#nodejs-version)."):console.warn("Wallaby cannot start node.js process ("+i._nodePath+"), trying editor node version instead. You may also explicitly configure which node.js version to use (https://wallabyjs.com/docs/intro/install.html#node-js)."),i._nodePath=process.execPath,r.ELECTRON_RUN_AS_NODE=1,r.WALLABY_ELECTRON_RUN_AS_NODE=1,k()})},stop:function(){return n(this,void 0,void 0,function(){var e,t;return r(this,function(i){switch(i.label){case 0:if(e=this,!this._process)return[2];t=this._process.pid,i.label=1;case 1:return i.trys.push([1,,2,4]),this._send({type:"stop"}),this._ws.close(),this._ws.removeAllListeners("close"),this._ws.removeAllListeners("error"),[3,4];case 2:try{this._process.disconnect()}catch(n){}return this._disposed=!0,this._callbacks=Object.create(null),this._openedFiles=Object.create(null),[4,new Promise(function(i){var n,r=50,s=1,o=function(){if(e._isProcessRunning(t))if(s*r>=e._forceKillProcessTimeout){try{process.kill(t)}catch(a){}i()}else s++,n&&clearTimeout(n),n=setTimeout(o,r);else i()};n=setTimeout(o,r)})];case 3:return i.sent(),[7];case 4:return[2]}})})},_normalizeDriveLetter:function(e){return"win32"===process.platform&&e&&":"===e[1]?e.charAt(0).toUpperCase()+e.slice(1):e},_isProcessRunning:function(e){try{return process.kill(e,0)}catch(t){return"EPERM"===t.code}},_connectToServer:function(e,t){var i=this;t=t||"localhost",i._ws=new c("ws://"+t+":"+e),i._ws.on("message",function(e){var t=JSON.parse(e),n=i["_"+t.type];n&&n.call(i,t)}),i._ws.on("close",function(e,t){console.log("Disconnected from wallaby core: "+e+(t?", "+t:""))}),i._ws.on("error",function(){i._connectToServer(e,"127.0.0.1")})},isDisposed:function(){return this._disposed},fileChangedInEditor:function(e,t,i,n,r){this._send({type:"fileChangedInEditor",path:e,fileId:r,content:t,changeFrame:i,transientChange:n})},fileOpenedInEditor:function(e){this._openedFiles[e]=(this._openedFiles[e]||0)+1,this._send({type:"fileOpenedInEditor",path:e})},fileClosedInEditor:function(e){var t=(this._openedFiles[e]||0)-1;this._openedFiles[e]=t,t<0&&console.log("Negative opened editor count for "+e),0===t&&(delete this._openedFiles[e],this._send({type:"fileClosedInAllEditors",path:e}))},expressionsToEvaluate:function(e){this._send({type:"expressionsToEvaluate",request:{expressionsToEvaluate:e}})},traceContext:function(e){this._send({type:"traceContext",request:e})},copyToClipboard:function(e){this._send({type:"copyToClipboard",request:{data:e}})},requestTestRunSummary:function(){this._send({type:"requestTestRunSummary",request:{}})},evaluateExpressionInEditor:function(e,t,i,n){this._send({type:"evaluateExpressionInEditor",path:e,content:t,range:i,action:n})},copyDiagnosticsReportToClipboard:function(e){this._send({type:"copyDiagnosticsReportToClipboard",data:e})},editorDataEvent:function(e){this._send({type:"editorDataEvent",data:e})},muteNotification:function(e){this._send({type:"muteNotification",request:e})},setPreferences:function(e){this._send({type:"setPreferences",preferences:e})},shareCodeClip:function(e,t){this._send({type:"shareCodeClip",editorId:e,backgroundTaskId:t})},runTests:function(e){this._send({type:"runTests",request:e})},toggleTestFilter:function(e){this._send({type:"toggleTestFilter",request:e})},setTestLocations:function(e){this._send({type:"setTestLocations",paths:e})},addTestLocations:function(e){this._send({type:"addTestLocations",paths:e})},removeTestLocations:function(e){this._send({type:"removeTestLocations",paths:e})},removeLogs:function(e){this._send({type:"removeLogs",data:e})},getFileMessages:function(e){this._send({type:"getFileMessages",request:e})},continueTrial:function(){this._send({type:"continueTrial"})},setRunMode:function(e){this._send({type:"runMode",request:{mode:e}})},pause:function(){this._send({type:"pause"})},resume:function(){this._send({type:"resume"})},toggleShowSingleInlineValue:function(){this._send({type:"toggleShowSingleInlineValue",request:{}})},toggleAutoLog:function(){this._send({type:"toggleAutoLog",request:{}})},addInspections:function(e){this._send({type:"addInspections",request:e})},removeInspections:function(e){this._send({type:"removeInspections",request:e})},requestUncoveredRegions:function(e,t){this._requestWithCorrelationId("uncoveredRegions",e,t)},requestLineReport:function(e,t){this._requestWithCorrelationId("lineReport",e,t)},requestLocation:function(e,t){this._requestWithCorrelationId("location",e,t)},requestSnapshot:function(e,t){this._requestWithCorrelationId("snapshot",e,t)},requestInstrumentedFile:function(e,t){this._requestWithCorrelationId("instrumentedFile",e,t)},requestError:function(e,t){this._requestWithCorrelationId("error",e,t)},requestTrace:function(e,t){this._requestWithCorrelationId("trace",e,t)},requestTestTimeline:function(e,t){this._requestWithCorrelationId("testTimeline",e,t)},requestTests:function(e,t){this._requestWithCorrelationId("tests",e,t)},_requestWithCorrelationId:function(e,t,i){var n=this,r=++h,s=this._callbacks[r]={done:i};this._send({type:e,request:t,id:r}),s.timeout=setTimeout(function(){delete n._callbacks[r]},5e3)},_responseWithCorrelationId:function(e){var t=this._callbacks[e.id];delete this._callbacks[e.id],t&&(clearTimeout(t.timeout),t.done(e.data))},_bufferStream:function(e,t){var i=this,n="";e.setEncoding("utf8"),e.on("data",function(e){if(!i._disposed){n+=e;var r=n.lastIndexOf("\n");~r&&(t(n.substring(0,r+1)),n=n.substring(r+1))}}),e.on("close",function(){i._disposed||n.length&&t(n)})},_send:function(e){this._ws&&this._ws.send(JSON.stringify(e))},_started:function(e){this.emit("started",e)},_stopped:function(e){this.emit("stopped",e)},_configChanged:function(e){this.emit("configChanged",e)},_expiredLicense:function(e){this.emit("expiredLicense",e)},_documentUpdates:function(e){e.updates=e.updates||{},e.updates.hasRunError=e.hasRunError,e.updates.hasGlobalError=e.hasGlobalError,this.emit("documentUpdates",e.updates)},_navigationRequested:function(e){this.emit("navigationRequested",e)},_closeAllEditors:function(e){this.emit("closeAllEditors",e)},_stats:function(e){this.emit("stats",e.data)},_filesToTrack:function(e){this.emit("filesToTrack",e.files)},_fileMessages:function(e){this.emit("fileMessages",e)},_live:function(e){this.emit("live",e)},_projectConfigured:function(e){this.emit("projectConfigured",e)},_notification:function(e){this.emit("notification",e.notification)},_consoleOutput:function(e){this.emit("consoleOutput",e.messages)},_busy:function(){this.emit("busy")},_copyToClipboard:function(e){this.emit("copyToClipboard",e)},_traceNavigationReset:function(){this.emit("traceNavigationReset")},_traceNavigated:function(e){this.emit("traceNavigated",e)},_testRunSummary:function(e){this.emit("testRunSummary",e)},_fileChanges:function(e){this.emit("fileChanges",e)},_traceTestSelectionRequested:function(e){this.emit("traceTestSelectionRequested",e)},_testFilterTestSelectionRequested:function(e){this.emit("testFilterTestSelectionRequested",e)},_wallabyAppUrl:function(e){this.emit("wallabyAppUrl",e)},_profileAvailable:function(e){this.emit("profileAvailable",e)},_location:function(e){this._responseWithCorrelationId(e)},_snapshot:function(e){this._responseWithCorrelationId(e)},_error:function(e){this._responseWithCorrelationId(e)},_uncoveredRegions:function(e){this._responseWithCorrelationId(e)},_tests:function(e){this._responseWithCorrelationId(e)},_lineReport:function(e){this._responseWithCorrelationId(e)},_instrumentedFile:function(e){this._responseWithCorrelationId(e)},_testFilterToggled:function(e){this.emit("testFilterToggled",e)},_trace:function(e){this._responseWithCorrelationId(e)},_testTimeline:function(e){this._responseWithCorrelationId(e)},_testTimelineReset:function(){this.emit("testTimelineReset")},_activeTestFileCoverageChanged:function(e){this.emit("activeTestFileCoverageChanged",e)},_inspections:function(e){this.emit("inspections",e)},_backgroundTaskProgress:function(e){this.emit("backgroundTaskProgress",e)},_paused:function(e){this.emit("paused",e)},_resuming:function(e){this.emit("resuming",e)}}),t.exports={Session:f,enums:e("./lib/extension/shared/enums"),utils:u,reportBuilder:e("./lib/extension/client/reportBuilder"),dmp:new(e("./lib/diffMatchPatch")),bd:new Date(1663030573206)}},{"./lib/diffMatchPatch":2,"./lib/extension/client/reportBuilder":3,"./lib/extension/shared/enums":4,"./lib/extension/shared/utils":5,"./lib/global":6,"./lib/utils":8,child_process:void 0,fs:void 0,lodash:void 0,os:void 0,path:void 0,"underscore.string":void 0,ws:void 0}],2:[function(e,t,i){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var r=-1,s=1,o=0;n.Diff,n.prototype.diff_main=function(e,t,i,n){"undefined"==typeof n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var r=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[o,e]]:[];"undefined"==typeof i&&(i=!0);var s=i,a=this.diff_commonPrefix(e,t),l=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var u=this.diff_compute_(e,t,s,r);return l&&u.unshift([o,l]),c&&u.push([o,c]),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(e,t,i,n){var a;if(!e)return[[s,t]];if(!t)return[[r,e]];var l=e.length>t.length?e:t,c=e.length>t.length?t:e,u=l.indexOf(c);if(u!=-1)return a=[[s,l.substring(0,u)],[o,c],[s,l.substring(u+c.length)]],e.length>t.length&&(a[0][0]=a[2][0]=r),a;if(1==c.length)return[[r,e],[s,t]];var h=this.diff_halfMatch_(e,t);if(h){var d=h[0],f=h[1],p=h[2],g=h[3],v=h[4],m=this.diff_main(d,p,i,n),y=this.diff_main(f,g,i,n);return m.concat([[o,v]],y)}return i&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,n):this.diff_bisect_(e,t,n)},n.prototype.diff_lineMode_=function(e,t,i){var n=this.diff_linesToChars_(e,t);e=n.chars1,t=n.chars2;var a=n.lineArray,l=this.diff_main(e,t,!1,i);this.diff_charsToLines_(l,a),this.diff_cleanupSemantic(l),l.push([o,""]);for(var c=0,u=0,h=0,d="",f="";c<l.length;){switch(l[c][0]){case s:h++,f+=l[c][1];break;case r:u++,d+=l[c][1];break;case o:if(u>=1&&h>=1){l.splice(c-u-h,u+h),c=c-u-h;for(var n=this.diff_main(d,f,!1,i),p=n.length-1;p>=0;p--)l.splice(c,0,n[p]);c+=n.length}h=0,u=0,d="",f=""}c++}return l.pop(),l},n.prototype.diff_bisect_=function(e,t,i){for(var n=e.length,o=t.length,a=Math.ceil((n+o)/2),l=a,c=2*a,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=n-o,p=f%2!=0,g=0,v=0,m=0,y=0,_=0;_<a&&!((new Date).getTime()>i);_++){for(var b=-_+g;b<=_-v;b+=2){var k,T=l+b;k=b==-_||b!=_&&u[T-1]<u[T+1]?u[T+1]:u[T-1]+1;for(var S=k-b;k<n&&S<o&&e.charAt(k)==t.charAt(S);)k++,S++;if(u[T]=k,k>n)v+=2;else if(S>o)g+=2;else if(p){var C=l+f-b;if(C>=0&&C<c&&h[C]!=-1){var L=n-h[C];if(k>=L)return this.diff_bisectSplit_(e,t,k,S,i)}}}for(var w=-_+m;w<=_-y;w+=2){var L,C=l+w;L=w==-_||w!=_&&h[C-1]<h[C+1]?h[C+1]:h[C-1]+1;for(var x=L-w;L<n&&x<o&&e.charAt(n-L-1)==t.charAt(o-x-1);)L++,x++;if(h[C]=L,L>n)y+=2;else if(x>o)m+=2;else if(!p){var T=l+f-w;if(T>=0&&T<c&&u[T]!=-1){var k=u[T],S=l+k-T;if(L=n-L,k>=L)return this.diff_bisectSplit_(e,t,k,S,i)}}}}return[[r,e],[s,t]]},n.prototype.diff_bisectSplit_=function(e,t,i,n,r){var s=e.substring(0,i),o=t.substring(0,n),a=e.substring(i),l=t.substring(n),c=this.diff_main(s,o,!1,r),u=this.diff_main(a,l,!1,r);return c.concat(u)},n.prototype.diff_linesToChars_=function(e,t){function i(e){for(var t="",i=0,s=-1,o=n.length;s<e.length-1;){s=e.indexOf("\n",i),s==-1&&(s=e.length-1);var a=e.substring(i,s+1);i=s+1,void 0!==r[a]?t+=String.fromCharCode(r[a]):(t+=String.fromCharCode(o),r[a]=o,n[o++]=a)}return t}var n=[],r=Object.create(null);n[0]="";var s=i(e),o=i(t);return{chars1:s,chars2:o,lineArray:n}},n.prototype.diff_wordMode=function(e,t){var i=this.diff_linesToWords_(e,t),n=i.chars1,r=i.chars2,s=i.lineArray,o=this.diff_main(n,r,!1);return this.diff_charsToLines_(o,s),o},n.prototype.diff_linesToWords_=function(e,t){function i(e){for(var t=e.split(/(\s+|\b)/),i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&o.test(t[i])&&o.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t}function n(e){for(var t="",n=i(e),o=r.length,a=0,l=n.length;a<l;a++){var c=n[a];void 0!==s[c]?t+=String.fromCharCode(s[c]):(t+=String.fromCharCode(o),s[c]=o,r[o++]=c)}return t}var r=[],s=Object.create(null);r[0]="";var o=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=n(e),l=n(t);return{chars1:a,chars2:l,lineArray:r}},n.prototype.diff_charsToLines_=function(e,t){for(var i=0;i<e.length;i++){for(var n=e[i][1],r=[],s=0;s<n.length;s++)r[s]=t[n.charCodeAt(s)];e[i][1]=r.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,s=0;i<r;)e.substring(s,r)==t.substring(s,r)?(i=r,s=i):n=r,r=Math.floor((n-i)/2+i);return r},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,n=Math.min(e.length,t.length),r=n,s=0;i<r;)e.substring(e.length-r,e.length-s)==t.substring(t.length-r,t.length-s)?(i=r,s=i):n=r,r=Math.floor((n-i)/2+i);return r},n.prototype.diff_commonOverlap_=function(e,t){var i=e.length,n=t.length;if(0==i||0==n)return 0;i>n?e=e.substring(i-n):i<n&&(t=t.substring(0,i));var r=Math.min(i,n);if(e==t)return r;for(var s=0,o=1;;){var a=e.substring(r-o),l=t.indexOf(a);if(l==-1)return s;o+=l,0!=l&&e.substring(r-o)!=t.substring(0,o)||(s=o,o++)}},n.prototype.diff_halfMatch_=function(e,t){function i(e,t,i){for(var n,r,s,a,l=e.substring(i,i+Math.floor(e.length/4)),c=-1,u="";(c=t.indexOf(l,c+1))!=-1;){var h=o.diff_commonPrefix(e.substring(i),t.substring(c)),d=o.diff_commonSuffix(e.substring(0,i),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),n=e.substring(0,i-d),r=e.substring(i+h),s=t.substring(0,c-d),a=t.substring(c+h))}return 2*u.length>=e.length?[n,r,s,a,u]:null}if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var s,o=this,a=i(n,r,Math.ceil(n.length/4)),l=i(n,r,Math.ceil(n.length/2));if(!a&&!l)return null;s=l?a&&a[4].length>l[4].length?a:l:a;var c,u,h,d;e.length>t.length?(c=s[0],u=s[1],h=s[2],d=s[3]):(h=s[0],d=s[1],c=s[2],u=s[3]);var f=s[4];return[c,u,h,d,f]},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,i=[],n=0,a=null,l=0,c=0,u=0,h=0,d=0;l<e.length;)e[l][0]==o?(i[n++]=l,c=h,u=d,h=0,d=0,a=e[l][1]):(e[l][0]==s?h+=e[l][1].length:d+=e[l][1].length,a&&a.length<=Math.max(c,u)&&a.length<=Math.max(h,d)&&(e.splice(i[n-1],0,[r,a]),e[i[n-1]+1][0]=s,n--,n--,l=n>0?i[n-1]:-1,c=0,u=0,h=0,d=0,a=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==r&&e[l][0]==s){var f=e[l-1][1],p=e[l][1],g=this.diff_commonOverlap_(f,p),v=this.diff_commonOverlap_(p,f);g>=v?(g>=f.length/2||g>=p.length/2)&&(e.splice(l,0,[o,p.substring(0,g)]),e[l-1][1]=f.substring(0,f.length-g),e[l+1][1]=p.substring(g),l++):(v>=f.length/2||v>=p.length/2)&&(e.splice(l,0,[o,f.substring(0,v)]),e[l-1][0]=s,e[l-1][1]=p.substring(0,p.length-v),e[l+1][0]=r,e[l+1][1]=f.substring(v),l++),l++}l++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var i=e.charAt(e.length-1),r=t.charAt(0),s=i.match(n.nonAlphaNumericRegex_),o=r.match(n.nonAlphaNumericRegex_),a=s&&i.match(n.whitespaceRegex_),l=o&&r.match(n.whitespaceRegex_),c=a&&i.match(n.linebreakRegex_),u=l&&r.match(n.linebreakRegex_),h=c&&e.match(n.blanklineEndRegex_),d=u&&t.match(n.blanklineStartRegex_);return h||d?5:c||u?4:s&&!a&&l?3:a||l?2:s||o?1:0}for(var i=1;i<e.length-1;){if(e[i-1][0]==o&&e[i+1][0]==o){var r=e[i-1][1],s=e[i][1],a=e[i+1][1],l=this.diff_commonSuffix(r,s);if(l){var c=s.substring(s.length-l);r=r.substring(0,r.length-l),s=c+s.substring(0,s.length-l),a=c+a}for(var u=r,h=s,d=a,f=t(r,s)+t(s,a);s.charAt(0)===a.charAt(0);){r+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var p=t(r,s)+t(s,a);p>=f&&(f=p,u=r,h=s,d=a)}e[i-1][1]!=u&&(u?e[i-1][1]=u:(e.splice(i-1,1),i--),e[i][1]=h,d?e[i+1][1]=d:(e.splice(i+1,1),i--))}i++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,i=[],n=0,a=null,l=0,c=!1,u=!1,h=!1,d=!1;l<e.length;)e[l][0]==o?(e[l][1].length<this.Diff_EditCost&&(h||d)?(i[n++]=l,c=h,u=d,a=e[l][1]):(n=0,a=null),h=d=!1):(e[l][0]==r?d=!0:h=!0,a&&(c&&u&&h&&d||a.length<this.Diff_EditCost/2&&c+u+h+d==3)&&(e.splice(i[n-1],0,[r,a]),e[i[n-1]+1][0]=s,n--,a=null,c&&u?(h=d=!0,n=0):(n--,l=n>0?i[n-1]:-1,h=d=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([o,""]);for(var t,i=0,n=0,a=0,l="",c="";i<e.length;)switch(e[i][0]){case s:a++,c+=e[i][1],i++;break;case r:n++,l+=e[i][1],i++;break;case o:n+a>1?(0!==n&&0!==a&&(t=this.diff_commonPrefix(c,l),0!==t&&(i-n-a>0&&e[i-n-a-1][0]==o?e[i-n-a-1][1]+=c.substring(0,t):(e.splice(0,0,[o,c.substring(0,t)]),i++),c=c.substring(t),l=l.substring(t)),t=this.diff_commonSuffix(c,l),0!==t&&(e[i][1]=c.substring(c.length-t)+e[i][1],c=c.substring(0,c.length-t),l=l.substring(0,l.length-t))),0===n?e.splice(i-a,n+a,[s,c]):0===a?e.splice(i-n,n+a,[r,l]):e.splice(i-n-a,n+a,[r,l],[s,c]),i=i-n-a+(n?1:0)+(a?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,a=0,n=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var i,n=0,o=0,a=0,l=0;for(i=0;i<e.length&&(e[i][0]!==s&&(n+=e[i][1].length),e[i][0]!==r&&(o+=e[i][1].length),!(n>t));i++)a=n,l=o;return e.length!=i&&e[i][0]===r?l:l+(t-a)},n.prototype.diff_prettyHtml=function(e){for(var t=[],i=/&/g,n=/</g,a=/>/g,l=/\n/g,c=0;c<e.length;c++){var u=e[c][0],h=e[c][1],d=h.replace(i,"&amp;").replace(n,"&lt;").replace(a,"&gt;").replace(l,"&para;<br>");switch(u){case s:t[c]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case r:t[c]='<del style="background:#ffe6e6;">'+d+"</del>";break;case o:t[c]="<span>"+d+"</span>"}}return t.join("")},n.prototype.diff_prettyCompactHtml=function(e){for(var t=[],i=0;i<e.length;i++){var n=0===i,a=i===e.length-1,l=e[i][0],c=e[i][1];switch(l){case s:t[i]='<ins style="background:#e6ffe6;">'+this.prepare_text_(c)+"</ins>";break;case r:t[i]='<del style="background:#ffe6e6;">'+this.prepare_text_(c)+"</del>";break;case o:t[i]="<span>"+this.truncate_context_(c,n,a)+"</span>"}}return t.join("")},n.prototype.prepare_text_=function(e){var t=/&/g,i=/</g,n=/>/g,r=/\n/g;return e.replace(t,"&amp;").replace(i,"&lt;").replace(n,"&gt;").replace(r,"&para;<br>")},n.prototype.truncate_context_=function(e,t,i){var n=e.split(/\r\n|\r|\n/),r='<span class="dots">...</span>',s=n.length,o=4;return s<=o?this.prepare_text_(e):!t&&!i&&s<=2*o?this.prepare_text_(e):t?r+this.prepare_text_("\n"+n.slice(-o).join("\n")):i?this.prepare_text_(n.slice(0,o).join("\n")+"\n")+r:this.prepare_text_(n.slice(0,o).join("\n")+"\n")+r+this.prepare_text_("\n"+n.slice(-o).join("\n"))},n.prototype.diff_text1=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==s&&(t[i]=e[i][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==r&&(t[i]=e[i][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,i=0,n=0,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1];switch(l){case s:i+=c.length;break;case r:n+=c.length;break;case o:t+=Math.max(i,n),i=0,n=0}}return t+=Math.max(i,n)},n.prototype.diff_toDelta=function(e){for(var t=[],i=0;i<e.length;i++)switch(e[i][0]){case s:t[i]="+"+encodeURI(e[i][1]);break;case r:t[i]="-"+e[i][1].length;break;case o:t[i]="="+e[i][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var i=[],n=0,a=0,l=t.split(/\t/g),c=0;c<l.length;c++){var u=l[c].substring(1);switch(l[c].charAt(0)){case"+":try{i[n++]=[s,decodeURI(u)]}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var d=parseInt(u,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+u);var f=e.substring(a,a+=d);"="==l[c].charAt(0)?i[n++]=[o,f]:i[n++]=[r,f];break;default:if(l[c])throw new Error("Invalid diff operation in diff_fromDelta: "+l[c])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return i},n.prototype.match_main=function(e,t,i){if(null==e||null==t||null==i)throw new Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,e.length)),e==t?0:e.length?e.substring(i,i+t.length)==t?i:this.match_bitap_(e,t,i):-1},n.prototype.match_bitap_=function(e,t,i){function n(e,n){var r=e/t.length,o=Math.abs(i-n);return s.Match_Distance?r+o/s.Match_Distance:o?1:r}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),s=this,o=this.Match_Threshold,a=e.indexOf(t,i);a!=-1&&(o=Math.min(n(0,a),o),a=e.lastIndexOf(t,i+t.length),a!=-1&&(o=Math.min(n(0,a),o)));var l=1<<t.length-1;a=-1;for(var c,u,h,d=t.length+e.length,f=0;f<t.length;f++){for(c=0,u=d;c<u;)n(f,i+u)<=o?c=u:d=u,u=Math.floor((d-c)/2+c);d=u;var p=Math.max(1,i-u+1),g=Math.min(i+u,e.length)+t.length,v=Array(g+2);v[g+1]=(1<<f)-1;for(var m=g;m>=p;m--){var y=r[e.charAt(m-1)];if(0===f?v[m]=(v[m+1]<<1|1)&y:v[m]=(v[m+1]<<1|1)&y|((h[m+1]|h[m])<<1|1)|h[m+1],v[m]&l){var _=n(f,m-1);if(_<=o){if(o=_,a=m-1,!(a>i))break;p=Math.max(1,2*i-a)}}}if(n(f+1,i)>o)break;h=v}return a},n.prototype.match_alphabet_=function(e){for(var t={},i=0;i<e.length;i++)t[e.charAt(i)]=0;for(var i=0;i<e.length;i++)t[e.charAt(i)]|=1<<e.length-i-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var i=t.substring(e.start2,e.start2+e.length1),n=0;t.indexOf(i)!=t.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,i=t.substring(e.start2-n,e.start2+e.length1+n);n+=this.Patch_Margin;var r=t.substring(e.start2-n,e.start2);r&&e.diffs.unshift([o,r]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+n);s&&e.diffs.push([o,s]),e.start1-=r.length,e.start2-=r.length,e.length1+=r.length+s.length,e.length2+=r.length+s.length}},n.prototype.patch_make=function(e,t,i){var a,l;if("string"==typeof e&&"string"==typeof t&&"undefined"==typeof i)a=e,l=this.diff_main(a,t,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==typeof e&&"undefined"==typeof t&&"undefined"==typeof i)l=e,a=this.diff_text1(l);else if("string"==typeof e&&t&&"object"==typeof t&&"undefined"==typeof i)a=e,l=t;else{if("string"!=typeof e||"string"!=typeof t||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");a=e,l=i}if(0===l.length)return[];for(var c=[],u=new n.patch_obj,h=0,d=0,f=0,p=a,g=a,v=0;v<l.length;v++){var m=l[v][0],y=l[v][1];switch(h||m===o||(u.start1=d,u.start2=f),m){case s:u.diffs[h++]=l[v],u.length2+=y.length,g=g.substring(0,f)+y+g.substring(f);break;case r:u.length1+=y.length,u.diffs[h++]=l[v],g=g.substring(0,f)+g.substring(f+y.length);break;case o:y.length<=2*this.Patch_Margin&&h&&l.length!=v+1?(u.diffs[h++]=l[v],u.length1+=y.length,u.length2+=y.length):y.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(u,p),c.push(u),u=new n.patch_obj,h=0,p=g,d=f)}m!==s&&(d+=y.length),m!==r&&(f+=y.length)}return h&&(this.patch_addContext_(u,p),c.push(u)),c},n.prototype.patch_deepCopy=function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i],s=new n.patch_obj;s.diffs=[];for(var o=0;o<r.diffs.length;o++)s.diffs[o]=r.diffs[o].slice();s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,t[i]=s}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var i=this.patch_addPadding(e);t=i+t+i,this.patch_splitMax(e);for(var n=0,a=[],l=0;l<e.length;l++){var c,u=e[l].start2+n,h=this.diff_text1(e[l].diffs),d=-1;if(h.length>this.Match_MaxBits?(c=this.match_main(t,h.substring(0,this.Match_MaxBits),u),c!=-1&&(d=this.match_main(t,h.substring(h.length-this.Match_MaxBits),u+h.length-this.Match_MaxBits),(d==-1||c>=d)&&(c=-1))):c=this.match_main(t,h,u),c==-1)a[l]=!1,n-=e[l].length2-e[l].length1;else{a[l]=!0,n=c-u;var f;if(f=d==-1?t.substring(c,c+h.length):t.substring(c,d+this.Match_MaxBits),h==f)t=t.substring(0,c)+this.diff_text2(e[l].diffs)+t.substring(c+h.length);else{var p=this.diff_main(h,f,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(p)/h.length>this.Patch_DeleteThreshold)a[l]=!1;else{this.diff_cleanupSemanticLossless(p);for(var g,v=0,m=0;m<e[l].diffs.length;m++){var y=e[l].diffs[m];y[0]!==o&&(g=this.diff_xIndex(p,v)),y[0]===s?t=t.substring(0,c+g)+y[1]+t.substring(c+g):y[0]===r&&(t=t.substring(0,c+g)+t.substring(c+this.diff_xIndex(p,v+y[1].length))),y[0]!==r&&(v+=y[1].length)}}}}}return t=t.substring(i.length,t.length-i.length),[t,a]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,i="",n=1;n<=t;n++)i+=String.fromCharCode(n);for(var n=0;n<e.length;n++)e[n].start1+=t,e[n].start2+=t;var r=e[0],s=r.diffs;if(0==s.length||s[0][0]!=o)s.unshift([o,i]),r.start1-=t,r.start2-=t,r.length1+=t,r.length2+=t;else if(t>s[0][1].length){var a=t-s[0][1].length;s[0][1]=i.substring(s[0][1].length)+s[0][1],r.start1-=a,r.start2-=a,r.length1+=a,r.length2+=a}if(r=e[e.length-1],s=r.diffs,0==s.length||s[s.length-1][0]!=o)s.push([o,i]),r.length1+=t,r.length2+=t;else if(t>s[s.length-1][1].length){var a=t-s[s.length-1][1].length;s[s.length-1][1]+=i.substring(0,a),r.length1+=a,r.length2+=a}return i},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=t)){var a=e[i];e.splice(i--,1);for(var l=a.start1,c=a.start2,u="";0!==a.diffs.length;){var h=new n.patch_obj,d=!0;for(h.start1=l-u.length,h.start2=c-u.length,""!==u&&(h.length1=h.length2=u.length,h.diffs.push([o,u]));0!==a.diffs.length&&h.length1<t-this.Patch_Margin;){var f=a.diffs[0][0],p=a.diffs[0][1];f===s?(h.length2+=p.length,c+=p.length,h.diffs.push(a.diffs.shift()),d=!1):f===r&&1==h.diffs.length&&h.diffs[0][0]==o&&p.length>2*t?(h.length1+=p.length,l+=p.length,d=!1,h.diffs.push([f,p]),a.diffs.shift()):(p=p.substring(0,t-h.length1-this.Patch_Margin),h.length1+=p.length,l+=p.length,f===o?(h.length2+=p.length,c+=p.length):d=!1,h.diffs.push([f,p]),p==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(p.length))}u=this.diff_text2(h.diffs),u=u.substring(u.length-this.Patch_Margin);var g=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);
""!==g&&(h.length1+=g.length,h.length2+=g.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===o?h.diffs[h.diffs.length-1][1]+=g:h.diffs.push([o,g])),d||e.splice(++i,0,h)}}},n.prototype.patch_toText=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var i=e.split("\n"),a=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<i.length;){var c=i[a].match(l);if(!c)throw new Error("Invalid patch string: "+i[a]);var u=new n.patch_obj;for(t.push(u),u.start1=parseInt(c[1],10),""===c[2]?(u.start1--,u.length1=1):"0"==c[2]?u.length1=0:(u.start1--,u.length1=parseInt(c[2],10)),u.start2=parseInt(c[3],10),""===c[4]?(u.start2--,u.length2=1):"0"==c[4]?u.length2=0:(u.start2--,u.length2=parseInt(c[4],10)),a++;a<i.length;){var h=i[a].charAt(0);try{var d=decodeURI(i[a].substring(1))}catch(f){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==h)u.diffs.push([r,d]);else if("+"==h)u.diffs.push([s,d]);else if(" "==h)u.diffs.push([o,d]);else{if("@"==h)break;if(""!==h)throw new Error('Invalid patch mode "'+h+'" in: '+d)}a++}}return t},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var i,n=["@@ -"+e+" +"+t+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case s:i="+";break;case r:i="-";break;case o:i=" "}n[a+1]=i+encodeURI(this.diffs[a][1])+"\n"}return n.join("").replace(/%20/g," ")},t.exports=n},{}],3:[function(e,t,i){var n=new(e("../../diffMatchPatch"));t.exports={tests:function(e,t){var i=this,n="";return _.isString(e)?n+=t?i._error(e):i._escapeAndConvertToHtml(e):(_.each(e.errors,function(e){n+=i._error(e.message,e.stack,e.expected,e.actual)}),_.each(e.tests,function(e){n+=i._test(e)})),n},_error:function(e,t,i,n){var r=this,s="";return(i||n)&&(s=r._diff(i,n)+"<br/>"),'<section class="error">'+s+'<section class="header">'+r._escapeAndConvertToHtml(e)+"</section>"+_.reduce(t,function(e,t){return e+=r._line(t)},"")+"</section>"},_line:function(e){var t=this._escape(e.file),i=e.context&&this._escape(e.context)||"";return t?'<section class="line">at '+(i?i+" ":"")+'<a class="loc" data-file="'+t+'" data-loc="'+e.loc+'">'+t+":"+e.loc+"</a></section>":""},_test:function(e){var t=this,i=e.path&&_.last(e.path)||"",n=_.initial(e.path||[]).join(" ");i=i&&" "+t._escape(i),n=n&&" "+t._escape(n);var r=_.isNumber(e.time)?" "+e.time+" ms":"",s=t._escape(e.file);return'<section class="test'+(e.failing?" failing":"")+'"><section class="header"><a class="'+(e.loc?"loc":"text")+'" data-file="'+s+'" data-loc="'+e.loc+'">'+e.file+'</a><span class="suite">'+n+'</span><span class="name">'+i+"</span>"+(r?'<span class="time">'+r+"</span>":"")+"</section>"+_.reduce(e.errors,function(e,i){return e+=t._error(i.message,i.stack,i.expected,i.actual)},"")+(e.messages&&e.messages.length?_.reduce(e.messages,function(e,i){return e+='<section class="message '+i.type+'"><span class="text">'+t._escapeAndConvertToHtml(i.text)+"&nbsp;</span>"+t._line(i)+"</section>"},'<section class="console"><section class="header">From console:</section>')+"</section>":"")+"</section>"},_diff:function(e,t){try{return'<section class="diff" style="white-space: pre;">'+n[n.diff_prettyCompactHtml?"diff_prettyCompactHtml":"diff_prettyHtml"](n.diff_wordMode(e||"",t||"")).replace(/&para;<br>/g,"<br>").replace(/style="background:#e6ffe6;"/g,'class="status-added"').replace(/style="background:#ffe6e6;"/g,'class="status-removed"')+"</section>"}catch(i){return""}},_escape:function(e){return(e||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},_escapeAndConvertToHtml:function(e){return this._escape(e).replace(/(?:\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")}}},{"../../diffMatchPatch":2}],4:[function(e,t,i){t.exports={lineState:{notCovered:1,fullyCovered:2,partiallyCovered:3,errorSource:4,errorPath:5}}},{}],5:[function(e,t,i){var n=function(e){return e&&e.replace(/^\s+|\s+$/gm,"")},r=["January","February","March","April","May","June","July","August","September","October","November","December"],s="wallabyjs@gmail.com";t.exports={wallabyEmail:function(){return s},normalizePath:function(e){return"win32"===process.platform&&e?e.replace(/\\/g,"/"):e},parseKey:function(e){var t={};if(e){var i=e.split(":");2===i.length&&(e=n(i[1]))}var o=Buffer.from(e,"base64").toString().split("\n");t.licenseeName=o[0],t.licenseTags=o[1];var a=t.licenseTags.split(",")||[];t.licenseeEmail=a[0],t.licensedProduct=a[1],t.multiUserKey=a[2],t.source=a[3],t.trial="1"===a[5],t.expirationDateString=o[2],t.licenseSignature=o[3],t.freeLicense=t.licenseeEmail===s;try{var l=t.expirationDateString.split("/");t.expirationDateStringFormatted=l[0]+" "+r[parseInt(l[1],10)-1]+" "+l[2]}catch(c){t.expirationDateStringFormatted=t.expirationDateString}return t},format:function(e,t){return e.replace(/\{([0-9a-zA-Z_]+)\}/g,function(i,n,r){var s;return"{"===e[r-1]&&"}"===e[r+i.length]?n:(s=t.hasOwnProperty(n)?t[n]:null,null===s||void 0===s?"":s)})},validPackageName:function(e){if(e&&!e.match(/^\./)&&!e.match(/^_/)&&!(e.length>214||e.toLowerCase()!==e||/[~'!()*]/.test(e.split("/").slice(-1)[0]))){if(encodeURIComponent(e)===e)return e;var t=e.match(/^(?:@([^\/]+?)[\/])?([^\/]+?)$/);if(t){var i=t[1],n=t[2];if(encodeURIComponent(i)===i&&encodeURIComponent(n)===n)return e}}},withFreePort:function(t){var i=e("http"),n=i.createServer();n.listen(0),n.on("listening",function(){var e=n.address().port;n.once("close",function(){t(e)}),n.close()}),process.nextTick(function(){})},checkPort:function(t){var i=e("net"),n=function(e){return function(n){var r=i.createServer().once("error",function(e){return n(e&&"EADDRNOTAVAIL"===e.code?t:0)}).once("listening",function(){return r.once("close",function(){return n(t)}).close()}).listen(t,e)}},r=function(e){return new Promise(n(e))};return r("0.0.0.0").then(function(e){return e?r("127.0.0.1"):0}).then(function(e){return e?r("::1"):0})}}},{http:void 0,net:void 0}],6:[function(e,t,i){global._=e("lodash"),global.Q=e("q"),global.EventEmitter=e("events").EventEmitter,Q.longStackSupport=!1,global.Promise||(global.Promise=Q.Promise),_.extend(_,e("./utils")),_.str=e("underscore.string"),_.mixin(_.str.exports()),global.logger=e("./logger"),_["_"+["ih15","daqi","xf"].join("")]=["ih1","5da","qix","f"].join("")},{"./logger":7,"./utils":8,events:void 0,lodash:void 0,q:void 0,"underscore.string":void 0}],7:[function(e,t,i){function n(e){var t=this.namespace;e[0]=r()+t+" "+e[0]}function r(){return g.inspectOpts.hideDate?"":(new Date).toISOString()+" "}function s(e){return process.stdout.write(e)}function o(e){function t(e,i){function n(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(n.enabled){var s=n,o=Number(new Date),u=o-(r||o);s.diff=u,s.prev=r,s.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var h=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,function(i,n){if("%%"===i)return i;h++;var r=t.formatters[n];if("function"==typeof r){var o=e[h];i=r.call(s,o),e.splice(h,1),h--}return i}),t.formatArgs.call(s,e);var p=c.format.apply(c,l([],a(e),!1))+"\n";s.isDebug?(d.add(p),f&&t.log.call(s,p)):t.log.call(s,p)}}var r;return n.isDebug="debug"===i,n.isTrace="trace"===i,n.namespace=e,n.enabled=n.isTrace&&p||n.isDebug,t.instances.push(n),n}function i(e){return e instanceof Error?e.stack||e.message:e}return t.debug=t,t["default"]=t,t.coerce=i,t.instances=[],Object.keys(e).forEach(function(i){t[i]=e[i]}),t.formatters={},t}var a=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=s["return"])&&i.call(s)}finally{if(r)throw r.error}}return o},l=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var n,r=0,s=t.length;r<s;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},c=e("util"),u=new(e("lru-cache"))({max:1048576,length:function(e){return e.length}}),h=0,d={add:function(e){u.set(h++,e)},values:function(){var e=u.values();return e.reverse(),e}},f=process.env.WALLABY_DEBUG_ENABLED||!1,p=process.env.WALLABY_TRACE_ENABLED||!1,g={};g.log=s,g.formatArgs=n,g.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var i=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[i]=n,e},{depth:25,maxArrayLength:100,breakLength:200});var v=o(g),m=v.formatters;m.o=function(e){return c.inspect(e,g.inspectOpts).replace(/\s*\n\s*/g," ")},m.O=function(e){return c.inspect(e,g.inspectOpts)},t.exports={create:function(e){return{debug:v(e,"debug"),trace:v(e,"trace")}},enableDebug:function(){f||(process.env.WALLABY_DEBUG_ENABLED="true",f=!0,d.values().forEach(function(e){g.log(e)}))},getDebugLog:function(){return d.values()},enableTrace:function(){p||(process.env.WALLABY_TRACE_ENABLED="true",p=!0,v.instances.forEach(function(e){e.isTrace&&(e.enabled=!0)})),this.enableDebug()}}},{"lru-cache":void 0,util:void 0}],8:[function(e,t,i){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):r(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,s&&(o=2&i[0]?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,s=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(n){i=[6,n],s=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,s,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},o=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){r={error:a}}finally{try{n&&!n.done&&(i=s["return"])&&i.call(s)}finally{if(r)throw r.error}}return o},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=e("path"),c=e("fs"),u=e("./extension/shared/utils").normalizePath,h=e("source-map").SourceMapConsumer,d=e("source-map").SourceMapGenerator,f=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,p=/^\s*/,g=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,v=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,m=/(^[\s]*?(fit|fdescribe)[\s]*?|[^.\w\s][\s]*?(fit|fdescribe)[\s]*?|(test|test\.concurrent|it|describe)[\s]*?\.[\s]*?only[\s]*?)((\.each[\s]*?(`[^`]*?`[\s]*?)*?)?\([\s]*?[^)\s])/gm,y=/[#@] sourceMappingURL=([^\s'"]*)/,b=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+y.source+")\\s*\\*/|//(?:"+y.source+"))\\s*","g"),k=/data:application\/json[^,]+base64,/,T=function(e,t){return"js"===e||"jsx"===e||"es6"===e||"es7"===e||"mjs"===e||"cjs"===e||t&&t.find(function(t){return e===t})},S=function(e){return"ts"===e||"tsx"===e||"cts"===e||"mts"===e},C=function(e){return"vue"===e},L=function(e){return"svelte"===e},w=function(e,t){return"coffee"===e||/\.(litcoffee|coffee\.md)$/.test(t||"")},x={},j={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(e,t){x[e]=t,j[t]=e});var F="\n//",E="_$_$w_id",R=5;t.exports={selectedTestRegExp:m,SourceMapConsumer:h,randomId:function(){return Math.random().toString(36).substr(2,R)},addWallabyRandomIdCommentToFileContent:function(e,t){return e+F+(t||this.randomId())+E},removeWallabyRandomIdCommentFromFileContent:function(e){return _.endsWith(e,E)?e.slice(0,-(F.length+R+E.length)):e},noopTrue:function(){return!0},noopTruePromise:function(){return Q.fcall(this.noopTrue)},isPatch:function(e){return e&&e.length>2&&"@"===e[0]&&"@"===e[1]},isLevelUpRelativePath:function(e){return e&&"."===e[0]&&"."===e[1]},docBlockComment:function(e){var t=e.match(f);return t?t[0].replace(p,"")||"":""},normalizePath:function(e){return e?e.replace("win32"===process.platform?"file:///":"file://","").split(l.sep).join("/"):e},fileUrl:function(e){var t=l.resolve(e).replace(/\\/g,"/");return"/"!==t[0]&&(t="/"+t),encodeURI("file://"+t)},trimSlashes:function(e){return e?e.replace(/^\/|\/$/g,""):e},platformDependentPath:function(e){return!e||"win32"!==process.platform||~e.indexOf(l.sep)?e:e.split("/").join(l.sep)},getSourceMapFromCode:function(e){b.lastIndex=0;for(var t;null!==(t=b.exec(e));){var i=t?t[1]||t[2]||"":null;if(i&&k.test(i)){var n=i.slice(i.indexOf(",")+1);return Buffer.from(n,"base64").toString()}}},makeRe:function(t,i){if("string"==typeof t){var n=e("micromatch");return n.makeRe(t,i,!1,!0)}return t},pathMatchesPattern:function(t,i,n){if(t){if("string"==typeof i){var r=e("micromatch").isMatch;return r(t,i,n)}return t=this.platformDependentPath(n&&n.absolute?"":"./")+this.platformDependentPath(t),t.match(i)}},escapePathForRegex:function(e){return"\\"===l.sep&&(e=e.replace(/\\/g,"/")),this.replacePathSepForRegex(this.escapeRegExp(e))},escapeRegExp:function(e){return e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")},replacePathSepForRegex:function(e){return"\\"===l.sep?e.replace(/(\/|(.)?\\(?![[\]{}()*+?.^$|\\]))/g,function(e,t,i){return i&&"\\"!==i?i+"\\\\":"\\\\"}):e},displayTestName:function(e){return e.replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")},getOriginalLineByGeneratedLine:function(e,t,i){var n=e[t];if(n){if(n=this._decodeMapping(n),n>0)return n;i&&(i-=1);for(var r=0;r<n.length;r++){if(n[r].column===i)return n[r].line;if(i<n[r].column)return 0===r?n[0].line:n[r-1].line}return n[n.length-1].line}},_decodeMapping:function(e){if(_.isUndefined(e)||_.isObject(e))return e;if(_.isNumber(e))return e;for(var t,i=[],n=0,r=0,s=0;s<e.length;s+=1){var o=x[e[s]],a=32&o;if(o&=31,r+=o<<n,a)n+=5;else{var l=1&r;r>>>=1;var c=l?0===r?-2147483648:-r:r;t>=0?(i.push({line:t,column:c}),t=void 0):t=c,r=n=0}}return i},_encodeMapping:function(e,t,i){var n=e[t];if(!_.isObject(n))return n;var r=Object.values(n);if(i&&1===r.length&&0===r[0].originalColumn&&0===r[0].generatedColumn&&i[t])return i[t];if(1!==r.length&&r.find(function(e){return e.originalLine!==r[0].originalLine})){r.sort(function(e,t){return e.generatedColumn-t.generatedColumn});var s="";s+=this._encodeInteger(r[0].originalLine),s+=this._encodeInteger(r[0].generatedColumn);for(var o=0,a=1;a<r.length;a++)if(r[a].originalLine!==r[a-1].originalLine){if(o++,o>2e3)return r[0].originalLine;s+=this._encodeInteger(r[a].originalLine),s+=this._encodeInteger(r[a].generatedColumn)}return s}return r[0].originalLine},_encodeInteger:function(e){var t="";e<0?e=-e<<1|1:e<<=1;do{var i=31&e;e>>>=5,e>0&&(i|=32),t+=j[i]}while(e>0);return t},generateLineMappings:function(e,t){var i=this,n={},r=Object.keys(e);return r.forEach(function(r){n[r]=i._encodeMapping(e,r,t)}),n},_previousLineMapNextGreaterThanOrEqualTo:function(e,t){for(var i=0,n=e.length-1,r=-1;i<=n;){var s=parseInt((i+n)/2,10);e[s].column<t?i=s+1:(r=s,n=s-1)}return 0===r&&(r=1),r===-1&&(r=e.length),r},_previousLineMapNextGreaterThan:function(e,t){for(var i=0,n=e.length-1,r=-1;i<=n;){var s=parseInt((i+n)/2,10);e[s].column<=t?i=s+1:(r=s,n=s-1)}return 0===r&&(r=1),r===-1&&(r=e.length),r},updateFileMap:function(e,t){var i=this,r=_.extend({},e);return _.each(t,function(t){var s=new h(t),o={},a=_.isEmpty(r);s.eachMapping(function(e){if(e.originalLine&&e.generatedLine)if(a)o[e.generatedLine]||(o[e.generatedLine]={}),o[e.generatedLine][e.generatedColumn]&&!e.name||(o[e.generatedLine][e.generatedColumn]=n({},e));else if(r[e.originalLine]){if(o[e.generatedLine]&&o[e.generatedLine][e.generatedColumn]&&!e.name)return;var t=r[e.originalLine]=i._decodeMapping(r[e.originalLine]);if(!t)return;if(t>0)o[e.generatedLine]||(o[e.generatedLine]={}),o[e.generatedLine][e.generatedColumn]=n(n({},e),{originalLine:t,originalColumn:0});else{var s=i._previousLineMapNextGreaterThan(t,e.originalColumn);o[e.generatedLine]||(o[e.generatedLine]={}),o[e.generatedLine][e.generatedColumn]=n(n({},e),{originalLine:t[s-1].line,originalColumn:t[s-1].column})}}}),r=i.generateLineMappings(o,e)}),r},formatInstrumentationError:function(e,t,i){var n=(e&&(e.stack||e.message))+"",r=this.textLines(n),s=r[0],o=s.match(/^SyntaxError.*\((\d+):(\d+)\)$/);return o&&(r=[this.codeFrame(t,parseInt(o[1],10),parseInt(o[2],10)+1,s)]),Error("Failed to instrument "+i+"\n"+r.join("\n"))},combineSourceMaps:function(e,t){if(!e)return t;if(!t)return e;var i=new h(t),n=new h(e),r=new d;i.eachMapping(function(e){if(null!=e.originalLine){var t=n.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&r.addMapping({original:{line:t.line,column:t.column},generated:{line:e.generatedLine,column:e.generatedColumn},source:t.source,name:t.name||e.name})}});var s=[n,i];return s.forEach(function(e){e.sources.forEach(function(t){r._sources.add(t);var i=e.sourceContentFor(t);null!=i&&r.setSourceContent(t,i)})}),r._sourceRoot=e.sourceRoot,r._file=e.file,JSON.parse(r.toString())},mapTextPosition:function(e,t){var i;if(e)if(t){var n={line:e.line,column:e.column};n.source=t.sources&&t.sources[0]||".",n.bias=2,i=t.generatedPositionFor(n)}else i=e;return i},textIndexPosition:function(e,t){var i=this.textLines(e,t);return{line:i.length,column:i[i.length-1].length}},mapTransformedRangeToOriginal:function(e,t){var i=function(e,t,i){var n=e.originalPositionFor({line:t,column:i,bias:1});return null===n.source?e.originalPositionFor({line:t,column:i,bias:2}):n},n=function(e,t){var i=e.originalPositionFor({line:t.line,column:t.column-1});if(null===i.source)return null;var n=e.generatedPositionFor({source:i.source,line:i.line,column:i.column+1,bias:2});return null===n.line||e.originalPositionFor(n).line!==i.line?{source:i.source,line:i.line,column:1/0}:e.originalPositionFor(n)},r={start:{line:t[0],column:t[1]},end:{line:t[2],column:t[3]}},s=i(e,r.start.line,r.start.column),o=n(e,r.end);return s&&o&&s.source&&o.source?s.source!==o.source?null:null===s.line||null===s.column?null:null===o.line||null===o.column?null:(s.line===o.line&&s.column===o.column&&(o=e.originalPositionFor({line:r.end.line,column:r.end.column,bias:2}),o.column=o.column-1),[s.line,s.column,o.line,o.column]):null},mapOriginalRangeToTransformed:function(e,t){var i=o(t,4),n=i[0],r=i[1],s=i[2],a=i[3];if(!e)return[n,r,s,a];var l={line:n,column:r};l.source=e.sources&&e.sources[0]||".";var c=e.generatedPositionFor(l),u={line:s,column:a};u.source=e.sources&&e.sources[0]||".",u.bias=2;var h=e.generatedPositionFor(u);if(c&&h&&null!==c.line&&null!==c.column){if(null===h.line||null===h.column){if(null===c.line||null===c.column)return;h.source=c.source,h.line=c.line,h.column=1/0}return h.line<c.line&&(h.line=c.line),c.line===h.line&&h.column<c.column&&(h.column=1/0),null===c.column&&(c.column=0),null===h.column&&(h.column=0),[c.line,c.column,h.line,h.column]}},textLines:function(e,t,i){return e=_.isUndefined(t)||t===e.length-1?e:e.substr(0,t),e.split(_.isUndefined(i)?/\r\n|\r|\n/:i)},instrumentableRange:function(e,t){var i=o(t,4),n=i[0],r=i[1],s=i[2],a=i[3];if(s-n>500)return t;if(!(s<n||s===n&&a<r)){var l=_.textLines(e);n<1&&(n=1),s>l.length&&(s=l.length),r<0&&(r=0);for(var c=!1,u=n;u<=s;u++){var h=l[u-1];n=u;for(var d=u===s&&a<=h.length?a:h.length,f=r;f<=d;f++)if(r=f,h.charAt(f).trim().length){c=!0;break}if(c)break;r=0}if(c){for(var u=s;u>=n;u--){var h=l[u-1];s!==u&&(s=u,a=h.length);for(var p=u===n&&n>=0?r:0,g=!1,f=a;f>=p;f--){if(h.charAt(f).trim().length){g=!0;break}a=f}if(g)break}return[n,r,s,a]}}},verifyLocalOrigin:function(t,i){if(!t)return!0;var n=!1;try{var r=e("url").parse(t).hostname;n="localhost"===r||"0.0.0.0"===r||"127.0.0.1"===r||"::1"===r}catch(s){}return n||i||console.error("wallaby.js refused to accept connection from "+t),n},patchModule:function(t,i){var n=e("module").Module.prototype,r=n.require;n.require=function(e){return e===t?i(r.bind(this)):r.call(this,e)}},patchModulesCode:function(e,t){var i={};e.forEach(function(e){e.files.forEach(function(t){i[t]=(i[t]||[]).concat(e.replacements)})});var n="node_modules/",r=function(e){return e=e.replace(/\\/g,"/"),e.substr(e.lastIndexOf(n)+n.length)},s=c.readFileSync;c.readFileSync=function(e){var n=s.apply(this,arguments),o=r(e),a=i[o];return a&&(n=n.toString(),a.forEach(function(i){var r=n;n=n.split(i.from).join(i.to),i.optional||n!==r||console.warn(t+" ("+e+")")})),n}},requireModuleFrom:function(t,i){try{return e(l.join(t,"node_modules",i))}catch(n){var r=e("module"),s=new r(".",null);return s.filename=l.join(t,"wallaby.js"),s.paths=r._nodeModulePaths(t),r._load(i,s,!1)}},resolveModulePathFrom:function(t,i){var n=e("module"),r=new n(".",null);return r.filename=l.join(t,"wallaby.js"),r.paths=n._nodeModulePaths(t),n._resolveFilename(i,r,!1)},tryRequireModuleWithPathFrom:function(t,i,n){try{var r=e("module"),s=new r(".",null);s.filename=l.join(t,"wallaby.js"),s.paths=r._nodeModulePaths(t);var o=r._resolveFilename(i,s,!1),a=void 0;return a=process.env.WALLABY_INTEGRATION_TEST_RUN||process.env.WALLABY_UNIT_TEST_RUN?e(o):r._load(i,s,!1),{module:a&&a["default"]||a,moduleExports:a,path:o}}catch(c){if(n)throw c}},nodeModulesLookup:function(t,i){var n=e("module").Module,r=n.prototype,s=n._nodeModulePaths,o=r.require;n._nodeModulePaths=function(e){var i=s.call(this,e);return t(i,e,s,this),i},i&&(r.require=function(e){return o.call(this,i(e))})},nodeModulePaths:function(t){var i=e("module");return i._nodeModulePaths(t)},patchBabelResolve:function(e){var t=this.nodeModulePaths(e);this.patchModule("resolve",function(e){var i=e("resolve"),n=i.sync;return i.sync=function(e,i){return~e.indexOf("babel")&&i&&(arguments[1].paths=(i.paths||[]).concat(t)),n.apply(this,arguments)},i})},hasAnsi:function(e){return e&&"string"==typeof e&&e.match(g)},removeAnsi:function(e){return e&&"string"==typeof e?e.replace(g,""):e},copyToClipboard:function(t){var i=function(e){return e&&console.warn("May have failed to copy to clipboard. "+("linux"===process.platform?'Linux/Ubuntu environments require "xclip" to be installed. ':"")+(e&&e.message))};try{e("copy-paste").copy(t,i)}catch(n){i(n)}},testFileSelection:function(e,t,i,n){if(_.isString(t)){var r=t;t={test:function(e){return!!~e.indexOf(r)}}}if(_.isString(i)){var s=i;i={test:function(e){return!!~e.indexOf(s)}}}var o,a=!1,l=!1,c={};for(v.lastIndex=0;null!==(o=v.exec(e));){for(var u=o.index+o[0].length,h=o.index;h<u;h++)c[h]=1;a=a||t.test(o[0]),l=l||i.test(o[0])}if(!a&&n)for(m.lastIndex=0;null!==(o=m.exec(e));)if(!c[o.index]){a=!0;break}return{includedTestFile:a,excludedTestFile:l}},codeFrame:function(e,t,i,r){function s(e,t,i){var r=n({column:0,line:-1},e.start),s=n(n({},r),e.end),o=i||{},a=o.linesAbove,l=void 0===a?2:a,c=o.linesBelow,u=void 0===c?3:c,h=r.line,d=r.column,f=s.line,p=s.column,g=Math.max(h-(l+1),0),v=Math.min(t.length,f+u);h===-1&&(g=0),f===-1&&(v=t.length);var m=f-h,y={};if(m)for(var _=0;_<=m;_++){var b=_+h;if(d)if(0===_){var k=t[b-1].length;y[b]=[d,k-d]}else if(_===m)y[b]=[0,p];else{var k=t[b-_].length;y[b]=[0,k]}else y[b]=!0}else d===p?d?y[h]=[d,0]:y[h]=!0:y[h]=[d,p-d];return{start:g,end:v,markerLines:y}}var o=this.textLines(e),a={start:{column:i,line:t}},l=s(a,o),c=l.start,u=l.end,h=l.markerLines,d=a.start&&"number"==typeof a.start.column,f=String(u).length,p=o.slice(c,u).map(function(e,t){var i=c+1+t,n=(" "+i).slice(-f),s=" "+n+" | ",o=h[i],a=!h[i+1];if(o){var l="";if(Array.isArray(o)){var u=e.slice(0,Math.max(o[0]-1,0)).replace(/[^\t]/g," "),d=o[1]||1;l=["\n ",s.replace(/\d/g," "),u,"^".repeat(d)].join(""),a&&r&&(l+=" "+r)}return[">",s,e,l].join("")}return" "+s+e}).join("\n");return d||(p=""+" ".repeat(f+1)+r+"\n"+p),p},loadJest:function(t,i,n){return r(this,void 0,void 0,function(){var r,o,a,c,u,h,d,f,p,g,v,m,y,_,b,k=this;return s(this,function(s){switch(s.label){case 0:o=!1;try{a=e(l.resolve(t,"package.json")),c=a&&a.scripts,u=a&&a.devDependencies||{},h=a&&a.dependencies||{},o=!!u.jest||!!h["react-scripts"]||!!h.jest,c&&c.test&&c.test.indexOf("react-app-rewired")!==-1?(this.tryRequireModuleWithPathFrom(t,"react-app-rewired/scripts/test"),this.tryRequireModuleWithPathFrom(t,"react-scripts/config/env"),r=this.tryRequireModuleWithPathFrom(t,"react-scripts/scripts/utils/createJestConfig")):!(c&&c.test&&c.test.indexOf("react-scripts")!==-1||!u)&&u.jest||c&&c.test&&c.test.indexOf("jest")!==-1&&c.test.indexOf("react-scripts")===-1||(r=this.tryRequireModuleWithPathFrom(t,"react-scripts/scripts/utils/createJestConfig"),this.tryRequireModuleWithPathFrom(t,"react-scripts/config/env"))}catch(T){r=void 0}if(i=i&&(l.isAbsolute(i)?i:l.resolve(l.join(t,i))),d=i?this.tryRequireModuleWithPathFrom(i,"jest"):r?this.tryRequireModuleWithPathFrom(r.path,"jest"):this.tryRequireModuleWithPathFrom(t,"jest"),p=d?d.path:t,v=this.tryRequireModuleWithPathFrom(p,"jest-cli"),!v)return[3,5];if(m=v.module.getVersion?function(){return v.module.getVersion()}:d&&d.module.getVersion?function(){return d.module.getVersion()}:void 0,!m)throw new Error("Cannot find compatible jest-cli module.");y="x.x.x",_=0;try{y=m(),_=parseInt(y.split(".")[0])}catch(T){throw new Error("Cannot detect/parse jest-cli module version: "+T.message+".")}if(_<24)throw new Error("Only Jest v24.x or higher is supported, but found v"+y+" at '"+v.path+"'.");if(f=this.tryRequireModuleWithPathFrom(v.path,"jest-config"),!f)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),n=n&&(l.isAbsolute(n)?n:l.resolve(l.join(t,n))),[4,f.module.readConfigs(n?{config:n}:r?{config:JSON.stringify(r.module(function(e){return l.resolve(r.path,"../../..",e)}))}:{},[t])];case 2:return g=s.sent(),g.globalConfig=Object.assign({},g.globalConfig),g.configs=(g.configs||[]).filter(function(e){return"jest-runner"===e.runner||~k.normalizePath(e.runner||"").indexOf("node_modules/jest-runner/")||"jest-runner-groups"===e.runner||~k.normalizePath(e.runner||"").indexOf("node_modules/jest-runner-groups/")}).map(function(e){return Object.assign({},e)}),[3,4];case 3:throw b=s.sent(),new Error("Failed to read Jest configuration from '"+t+"': "+(b.stack?b.stack:"unknown."));case 4:return[3,6];case 5:throw new Error("Module jest-cli is not found in '"+t+"'.");case 6:if(!g)throw new Error("Failed to read Jest configuration from '"+t+"'.");if(!g.configs.length)throw new Error("Can not find any Jest runner configurations in '"+t+"'.");return[2,{jestConfig:g,jestCLI:v,jestConfigLoader:f,isDirectDependency:o}]}})})},serializeRegExp:function(e){if(_.isRegExp(e))return"__REGEXP "+e.toString();if(_.isString(e))return e;throw new Error("Must pass a string or a regular expression")},deserializeRegExp:function(e){if(0===e.indexOf("__REGEXP ")){var t=e.split("__REGEXP ")[1].match(/\/(.*)\/(.*)?/);return new RegExp(t[1],t[2]||"")}return e},isJavaScript:T,isTypeScript:S,isVue:C,isSvelte:L,isCoffeeScript:w,isCoverable:function(e,t,i){return T(e,i)||S(e)||C(e)||w(e,t)||L(e)},quickHash:function(e){var t,i,n,r=0;if(e.length>0)for(t=0,n=e.length;t<n;t++)i=e.charCodeAt(t),r=(r<<5)-r+i,r|=0;return r},isWsl:function(){var t=e("os");if("linux"!==process.platform)return!1;if(t.release().toLowerCase().includes("microsoft"))return!0;try{return c.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")}catch(i){return!1}},wslHostIpAddress:function(){var e=c.readFileSync("/etc/resolv.conf").toString().split("\n").map(function(e){return e.split(" ")}).filter(function(e){return"nameserver"===e[0]}).map(function(e){return e.length>1&&e[1]});return 1===e.length?e[0]:"127.0.0.1"},lazyLoadDependencyReplacement:function(e,t,i){var n=void 0===i?{}:i,r=n.doubleQuotes,s=n.dependencyOverride,o=n.replaceBothDependencyAndDependencyOverride,a=n.varType;a=a||"var";var l=r?'require("'+t+'")':"require('"+t+"')",c=s||l,u=[{from:""+e,to:e+"()",optional:!0},{from:a+" "+e+"() = "+c+";",to:"var "+e+" = function() { const data = "+c+"; "+e+" = function() { return data; }; return data; }",optional:!0}];return o&&u.push({from:a+" "+e+"() = "+l+";",to:"var "+e+" = function() { const data = "+l+"; "+e+" = function() { return data; }; return data; }",optional:!0}),u},findFirstFileMatchingContentInDirectory:function(e,t){function i(e){var n,r,s=c.readdirSync(e);try{for(var o=a(s),u=o.next();!u.done;u=o.next()){var h=u.value,d=l.resolve(l.join(e,h));if(c.statSync(d).isDirectory()){var f=i(d);if(f)return f}else if(h.endsWith(".js")||h.endsWith(".mjs")){var p=c.readFileSync(d,"utf8");if(p.indexOf(t)!==-1)return d}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(r=o["return"])&&r.call(o)}finally{if(n)throw n.error}}}return u(i(e))}}},{"./extension/shared/utils":5,"copy-paste":void 0,fs:void 0,micromatch:void 0,module:void 0,os:void 0,path:void 0,"source-map":void 0,url:void 0}]},{},[1]);